version: '3.6'
services:
  neo4j:
    container_name: neo4j
    image: "metadatacenter/cedar-neo4j:${CEDAR_DOCKER_VERSION}"
    build: ../../cedar-docker-build/cedar-neo4j
    networks:
      - cedarnet
    ports:
      - ${CEDAR_NEO4J_REST_PORT}:7474
      - ${CEDAR_NEO4J_BOLT_PORT}:7687
    environment:
      - CEDAR_NEO4J_USER_NAME
      - CEDAR_NEO4J_USER_PASSWORD
      - CEDAR_HOST
      - CEDAR_ADMIN_USER_API_KEY



networks:
  cedarnet:
    driver: bridge
    ipam:
      driver: default
      config:
         - subnet:  ${CEDAR_NET_SUBNET}/24
#         gateway: ${CEDAR_NET_GATEWAY}